# Инструкция по развертыванию проекта

Этот документ описывает процесс развертывания проекта новостного Telegram бота на платформе Replit в режиме постоянной работы (Always On).

## Шаг 1: Настройка Deployment в Replit

1. В проекте Replit перейдите на вкладку ▶️ (Run)
2. В боковой панели выберите "Deploy"
3. Нажмите кнопку "Deploy" для начала процесса развертывания
4. Дождитесь завершения процесса развертывания (это может занять несколько минут)

## Шаг 2: Настройка Always On

После успешного деплоя необходимо включить функцию Always On, чтобы проект продолжал работать даже после закрытия вкладки браузера:

1. В проекте Replit нажмите на иконку ⚙️ (Settings) в левой панели 
2. Выберите раздел "Deployment"
3. Найдите опцию "Always On" и активируйте её (переключите тумблер в положение ON)

## Шаг 3: Проверка работы

После настройки Always On необходимо убедиться, что все компоненты работают корректно:

1. **Проверка веб-интерфейса**:
   - Откройте URL вашего развернутого проекта (обычно имеет формат `https://имя-проекта.username.repl.co`)
   - Убедитесь, что веб-интерфейс загружается и работает корректно
   - Проверьте доступ к разделам Подписчики, Источники, Настройки и Новости

2. **Проверка Telegram бота**:
   - Откройте Telegram и найдите вашего бота по имени
   - Отправьте команду `/start` 
   - Бот должен ответить приветственным сообщением
   - Проверьте также команды `/новости` и `/помощь`

## Шаг 4: Дополнительные настройки

### Добавление администраторов

1. Откройте веб-интерфейс проекта
2. Перейдите в раздел "Подписчики" 
3. Найдите вашего пользователя в списке (или добавьте, если он отсутствует)
4. Нажмите кнопку "Сделать администратором"

Теперь у вас будет доступ к административным командам в Telegram боте.

### Настройка расписания отправки новостей

1. Откройте веб-интерфейс проекта
2. Перейдите в раздел "Настройки"
3. В блоке "Расписание отправки" вы можете:
   - Изменить основное время отправки
   - Добавить дополнительные времена отправки
   - Активировать или деактивировать определенные времена

## Шаг 5: Мониторинг и обслуживание

После развертывания рекомендуется регулярно проверять:

1. **Работоспособность бота**: 
   - Отправляйте команду `/статистика` (если вы администратор)
   - Проверяйте, что новости отправляются по расписанию

2. **Работоспособность веб-интерфейса**:
   - Периодически проверяйте доступность веб-интерфейса
   - Обновляйте список источников новостей при необходимости

3. **Логи**:
   - В случае проблем проверьте логи через консоль Replit
   - Логи сохраняются в папке `logs/`

## Решение проблем

### Бот не отвечает

1. Перейдите на вкладку "Workflows" в Replit
2. Перезапустите workflow "Start Telegram Bot"
3. Проверьте логи в папке `logs/` для выявления причины проблемы

### Веб-интерфейс недоступен

1. Перезагрузите деплой в разделе "Deploy"
2. Проверьте, активен ли режим "Always On"
3. Если проблема сохраняется, перезапустите весь проект

### Бот работает, но не отправляет новости

1. Проверьте настройки времени отправки в веб-интерфейсе
2. Убедитесь, что есть активные источники новостей
3. Попробуйте отправить команду `/обновить` (если вы администратор)

## Важные замечания

- После внесения изменений в код проекта требуется повторный деплой
- Для работы в режиме Always On на платформе Replit может потребоваться платная подписка
- Резервное копирование базы данных рекомендуется выполнять регулярно через веб-интерфейс